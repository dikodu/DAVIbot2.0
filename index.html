<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DAVI - Dein DeepUp-Support</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <style>
        /* ===== DAVI BOT - BAUARBEITER-FREUNDLICH ===== */
        /* Exakte DAVI-Logo Farben: Türkis #1DD1A1, Dunkelgrau #2C3E50 */

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            color: #2C3E50;
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* ===== HEADER MIT DAVI LOGO ===== */
        .header {
            display: flex;
            align-items: center;
            gap: 30px;
            padding: 30px 20px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(45, 62, 80, 0.1);
            margin-bottom: 30px;
        }

        .logo-container {
            flex-shrink: 0;
        }

        .davi-logo {
            height: 80px;
            width: auto;
        }

        .header-text h1 {
            font-size: 2.5rem;
            color: #2C3E50;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .header-text p {
            font-size: 1.2rem;
            color: #1DD1A1;
            font-weight: 500;
        }

        /* ===== SUCHBEREICH ===== */
        .search-section {
            margin-bottom: 30px;
        }

        .search-container {
            position: relative;
            max-width: 600px;
            margin: 0 auto;
        }

        .search-input {
            width: 100%;
            padding: 18px 50px 18px 50px;
            font-size: 1.1rem;
            background: white;
            border: 3px solid #1DD1A1;
            border-radius: 25px;
            color: #2C3E50;
            outline: none;
            box-shadow: 0 4px 15px rgba(29, 209, 161, 0.2);
            transition: all 0.3s ease;
        }

        .search-input::placeholder {
            color: #6c757d;
            font-style: italic;
        }

        .search-input:focus {
            border-color: #17a2b8;
            box-shadow: 0 8px 25px rgba(29, 209, 161, 0.3);
            transform: translateY(-2px);
        }

        .search-icon {
            position: absolute;
            left: 18px;
            top: 50%;
            transform: translateY(-50%);
            color: #1DD1A1;
            font-size: 1.3rem;
        }

        .clear-btn {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #6c757d;
            font-size: 1.2rem;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .clear-btn:hover {
            background: #e9ecef;
            color: #1DD1A1;
        }

        /* ===== HAUPTBEREICH ===== */
        .main-content {
            flex: 1;
            max-width: 1000px;
            margin: 0 auto;
            width: 100%;
        }

        .view {
            display: none;
            animation: fadeIn 0.4s ease-in-out;
        }

        .view.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ===== PROBLEM GRID ===== */
        .problem-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .problem-item {
            display: flex;
            flex-direction: column;
            gap: 0;
        }

        .problem-card {
            background: white;
            border: 3px solid transparent;
            border-radius: 20px;
            padding: 30px 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(45, 62, 80, 0.1);
            color: #2C3E50;
            text-decoration: none;
            display: block;
        }

        .problem-card:hover {
            transform: translateY(-5px);
            border-color: #1DD1A1;
            box-shadow: 0 15px 35px rgba(29, 209, 161, 0.2);
            background: linear-gradient(135deg, #ffffff 0%, #f8fff9 100%);
        }

        .problem-card.active {
            border-color: #1DD1A1;
            background: linear-gradient(135deg, #ffffff 0%, #f8fff9 100%);
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
        }

        .problem-details {
            display: none;
            background: white;
            border: 3px solid #1DD1A1;
            border-top: none;
            border-bottom-left-radius: 20px;
            border-bottom-right-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 30px rgba(29, 209, 161, 0.2);
            animation: slideDown 0.3s ease-in-out;
        }

        .problem-details.active {
            display: block;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .problem-icon {
            margin-bottom: 20px;
        }

        .problem-icon i {
            font-size: 3rem;
            color: #1DD1A1;
        }

        .problem-card h3 {
            font-size: 1.4rem;
            margin-bottom: 12px;
            color: #2C3E50;
            font-weight: 600;
        }

        .problem-card p {
            color: #6c757d;
            font-size: 1rem;
            line-height: 1.5;
        }

        .problem-description {
            font-size: 1.1rem;
            color: #2C3E50;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            border-left: 4px solid #1DD1A1;
            margin-bottom: 30px;
        }

        .confirm-question {
            background: linear-gradient(135deg, #1DD1A1 0%, #17a085 100%);
            color: white;
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            margin-bottom: 30px;
        }

        .confirm-question h3 {
            font-size: 1.5rem;
            margin-bottom: 20px;
        }

        .confirm-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .yes-btn, .no-btn {
            padding: 15px 40px;
            border: none;
            border-radius: 25px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 120px;
        }

        .yes-btn {
            background: white;
            color: #1DD1A1;
            box-shadow: 0 4px 15px rgba(255, 255, 255, 0.3);
        }

        .yes-btn:hover {
            background: #f8fff9;
            transform: translateY(-2px);
        }

        .no-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid white;
        }

        .no-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        /* ===== LÖSUNGEN ===== */
        .solution-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, #1DD1A1 0%, #17a085 100%);
            color: white;
            border-radius: 20px;
        }

        .solution-header h2 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .solution-list {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .solution-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(45, 62, 80, 0.1);
            border-left: 6px solid #1DD1A1;
            transition: all 0.3s ease;
        }

        .solution-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(29, 209, 161, 0.2);
        }

        .solution-card h3 {
            color: #1DD1A1;
            font-size: 1.5rem;
            margin-bottom: 15px;
            font-weight: 600;
            display: flex;
            align-items: center;
        }

        .solution-card h3 i {
            margin-right: 12px;
            font-size: 1.3rem;
        }

        .solution-card p {
            color: #2C3E50;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        /* ===== ZURÜCK BUTTON ===== */
        .back-btn {
            background: #1DD1A1;
            border: none;
            color: white;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 500;
            margin-bottom: 30px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(29, 209, 161, 0.3);
        }

        .back-btn:hover {
            background: #17a085;
            transform: translateX(-3px);
            box-shadow: 0 6px 20px rgba(29, 209, 161, 0.4);
        }

        .back-btn i {
            margin-right: 8px;
        }

        /* ===== RÜCKRUF FORMULAR ===== */
        .callback-form {
            background: white;
            border: 3px solid #1DD1A1;
            border-radius: 20px;
            padding: 30px;
            margin-top: 20px;
            box-shadow: 0 4px 20px rgba(29, 209, 161, 0.15);
            display: none;
        }

        .callback-form.active {
            display: block;
            animation: fadeIn 0.4s ease-in-out;
        }

        .callback-form h4 {
            color: #1DD1A1;
            font-size: 1.4rem;
            margin-bottom: 20px;
            font-weight: 600;
            text-align: center;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            color: #2C3E50;
            font-weight: 500;
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .form-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            font-size: 1rem;
            color: #2C3E50;
            background: #f8f9fa;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
        }

        .form-input:focus {
            outline: none;
            border-color: #1DD1A1;
            background: white;
            box-shadow: 0 4px 15px rgba(29, 209, 161, 0.2);
        }

        .form-input::placeholder {
            color: #6c757d;
            font-style: italic;
        }

        textarea.form-input {
            min-height: 120px;
            resize: vertical;
        }

        .submit-btn {
            background: linear-gradient(135deg, #1DD1A1 0%, #17a085 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(29, 209, 161, 0.3);
            width: 100%;
            margin-top: 10px;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(29, 209, 161, 0.4);
        }

        .submit-btn:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
        }

        .callback-btn {
            background: linear-gradient(135deg, #2C3E50 0%, #34495e 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: 500;
            margin-left: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(44, 62, 80, 0.3);
        }

        .callback-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(44, 62, 80, 0.4);
        }

        /* ===== DANKE SCREEN ===== */
        .thank-you-screen {
            text-align: center;
            padding: 50px 30px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 4px 20px rgba(45, 62, 80, 0.1);
            border-left: 6px solid #1DD1A1;
        }

        .thank-you-screen h2 {
            color: #1DD1A1;
            font-size: 2.5rem;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .thank-you-screen p {
            color: #2C3E50;
            font-size: 1.3rem;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .thank-you-screen .back-btn {
            background: #1DD1A1;
        }

        /* ===== FOOTER ===== */
        .footer {
            margin-top: 40px;
            padding: 25px;
            background: #2C3E50;
            color: white;
            text-align: center;
            border-radius: 15px;
        }

        .footer p {
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .footer p:last-child {
            margin-bottom: 0;
            opacity: 0.8;
        }

        /* ===== SPRACHAUSWAHL ===== */
        .language-selection {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: calc(100vh - 200px);
            text-align: center;
            padding-top: 40px;
        }



        .language-flags {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 35px;
            max-width: 900px;
            width: 100%;
        }

        .flag-button {
            background: white;
            border: 3px solid transparent;
            border-radius: 25px;
            padding: 45px 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 30px rgba(45, 62, 80, 0.15);
            text-decoration: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .flag-button:hover {
            transform: translateY(-5px);
            border-color: #1DD1A1;
            box-shadow: 0 15px 35px rgba(29, 209, 161, 0.2);
            background: linear-gradient(135deg, #ffffff 0%, #f8fff9 100%);
        }

        .flag-emoji {
            font-size: 5.5rem;
            margin-bottom: 0;
        }

        .flag-text {
            font-size: 1.3rem;
            color: #2C3E50;
            font-weight: 600;
        }

        .flag-subtext {
            font-size: 1rem;
            color: #6c757d;
            font-weight: 400;
        }

        /* ===== SPRACHAUSWAHL BUTTON ===== */
        .language-selector {
            position: relative;
            display: flex;
            align-items: center;
            margin-left: auto;
        }

        .current-language-btn {
            background: linear-gradient(135deg, #1DD1A1 0%, #17a085 100%);
            color: white;
            border: 3px solid rgba(255, 255, 255, 0.3);
            padding: 15px 25px;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(29, 209, 161, 0.4);
            display: flex;
            align-items: center;
            gap: 10px;
            min-width: 140px;
            justify-content: center;
        }

        .current-language-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(29, 209, 161, 0.6);
            background: linear-gradient(135deg, #17a085 0%, #1DD1A1 100%);
            border-color: rgba(255, 255, 255, 0.5);
        }

        .current-language-btn .flag-small {
            font-size: 1.4rem;
        }

        .current-language-btn .text {
            font-weight: 700;
        }

        .current-language-btn i {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        /* ===== RESPONSIVE DESIGN ===== */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            .header {
                flex-direction: column;
                text-align: center;
                gap: 20px;
                position: relative;
            }

            .language-selector {
                position: absolute;
                top: 20px;
                right: 20px;
                margin-left: 0;
            }

            .davi-logo {
                height: 60px;
            }

            .header-text h1 {
                font-size: 2rem;
            }

            .header-text p {
                font-size: 1.1rem;
            }

            .problem-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .problem-card {
                padding: 25px 20px;
            }

            .search-input {
                padding: 16px 45px 16px 45px;
                font-size: 1rem;
            }

            .confirm-buttons {
                flex-direction: column;
                align-items: center;
            }

            .yes-btn, .no-btn {
                width: 200px;
            }

            .callback-btn {
                margin-left: 0;
                margin-top: 15px;
                width: 100%;
            }
        }

        @media (max-width: 480px) {
            .header-text h1 {
                font-size: 1.7rem;
            }

            .problem-card {
                padding: 20px 15px;
            }

            .solution-card {
                padding: 25px 20px;
            }

            .problem-icon i {
                font-size: 2.5rem;
            }



            .language-flags {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .flag-emoji {
                font-size: 4rem;
            }

            .current-language-btn {
                padding: 12px 18px;
                font-size: 1rem;
                min-width: 120px;
            }

            .current-language-btn .flag-small {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header mit DAVI Logo -->
        <header class="header">
            <div class="logo-container">
                <!-- DAVI Logo von der bereitgestellten URL -->
                <img class="davi-logo" src="https://page.gensparksite.com/v1/base64_upload/49b12126a4ab0797a7445854507823e4" alt="DAVI Logo by DeepUp">
            </div>
            <div class="header-text">
                <h1>Hey! Ich bin DAVI 👋</h1>
                <p>Dein DeepUp Support rund um die Uhr. Suche nach deinem Problem oder klicke es unten an</p>
            </div>
            <div class="language-selector">
                <button class="current-language-btn" onclick="showLanguageSelection()" style="display: none;" id="languageBtn" title="Sprache ändern / Change language / Изменить язык / Dili değiştir">
                    <span class="flag-small" id="currentFlag">🇩🇪</span>
                    <span class="text" id="currentLangText">Deutsch</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
            </div>
        </header>

        <!-- Suchbereich -->
        <div class="search-section">
            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" id="searchInput" placeholder="Suche..." class="search-input">
                <button id="clearSearch" class="clear-btn" style="display: none;">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>

        <!-- Hauptbereich -->
        <main class="main-content">
            <!-- Sprachauswahl View -->
            <div id="languageView" class="view active">
                <div class="language-selection">

                    <div class="language-flags">
                        <button class="flag-button" onclick="selectLanguage('de')">
                            <div class="flag-emoji">🇩🇪</div>
                            <div class="flag-text">Deutsch</div>
                            <div class="flag-subtext">German</div>
                        </button>
                        <button class="flag-button" onclick="selectLanguage('en')">
                            <div class="flag-emoji">🇬🇧</div>
                            <div class="flag-text">English</div>
                            <div class="flag-subtext">Englisch</div>
                        </button>
                        <button class="flag-button" onclick="selectLanguage('ru')">
                            <div class="flag-emoji">🇷🇺</div>
                            <div class="flag-text">Русский</div>
                            <div class="flag-subtext">Russian</div>
                        </button>
                        <button class="flag-button" onclick="selectLanguage('tr')">
                            <div class="flag-emoji">🇹🇷</div>
                            <div class="flag-text">Türkçe</div>
                            <div class="flag-subtext">Turkish</div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Willkommen View -->
            <div id="welcomeView" class="view">
                <div class="problem-grid">
                    <div class="problem-item">
                        <button class="problem-card" onclick="toggleProblem('app_glitch', this)">
                            <div class="problem-icon">
                                <i class="fas fa-wifi"></i>
                            </div>
                            <h3>App Glitch</h3>
                            <p>App geht nicht</p>
                        </button>
                        <div class="problem-details" id="details_app_glitch">
                            <div class="problem-description">
                                <h4 style="color: #1DD1A1; margin-bottom: 15px; font-size: 1.3rem;">
                                    <i class="fas fa-wifi"></i> App Glitch
                                </h4>
                                <p style="margin-bottom: 20px; color: #2C3E50; font-size: 1.1rem;">
                                    App lässt sich nicht öffnen
                                </p>
                            </div>
                            <div class="confirm-question">
                                <h3>Ist das dein Problem? 🤔</h3>
                                <div class="confirm-buttons">
                                    <button class="yes-btn" onclick="showSolutionInline('app_glitch', 'details_app_glitch')">
                                        👍 Ja
                                    </button>
                                    <button class="no-btn" onclick="showWelcome()">
                                        👎 Nein
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="problem-item">
                        <button class="problem-card" onclick="toggleProblem('app_glitch_einstellungen', this)">
                            <div class="problem-icon">
                                <i class="fas fa-cogs"></i>
                            </div>
                            <h3>App Glitch mit Einstellungen</h3>
                            <p>App Probleme mit Einstellungen</p>
                        </button>
                        <div class="problem-details" id="details_app_glitch_einstellungen">
                            <div class="problem-description">
                                <h4 style="color: #1DD1A1; margin-bottom: 15px; font-size: 1.3rem;">
                                    <i class="fas fa-cogs"></i> App Glitch mit Einstellungen
                                </h4>
                                <p style="margin-bottom: 20px; color: #2C3E50; font-size: 1.1rem;">
                                    Scan App und Einstellungen öffnen sich nicht
                                </p>
                            </div>
                            <div class="confirm-question">
                                <h3>Ist das dein Problem? 🤔</h3>
                                <div class="confirm-buttons">
                                    <button class="yes-btn" onclick="showSolutionInline('app_glitch_einstellungen', 'details_app_glitch_einstellungen')">
                                        👍 Ja
                                    </button>
                                    <button class="no-btn" onclick="showWelcome()">
                                        👎 Nein
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="problem-item">
                        <button class="problem-card" onclick="toggleProblem('sma_rueckfragen_projekt', this)">
                            <div class="problem-icon">
                                <i class="fas fa-project-diagram"></i>
                            </div>
                            <h3>SMA Rückfragen Projekt</h3>
                            <p>Projekt wird nicht angezeigt</p>
                        </button>
                        <div class="problem-details" id="details_sma_rueckfragen_projekt">
                            <div class="problem-description">
                                <h4 style="color: #1DD1A1; margin-bottom: 15px; font-size: 1.3rem;">
                                    <i class="fas fa-project-diagram"></i> SMA Rückfragen Projekt
                                </h4>
                                <p style="margin-bottom: 20px; color: #2C3E50; font-size: 1.1rem;">
                                    Projekt wird nicht angezeigt - SMA nicht sichtbar
                                </p>
                            </div>
                            <div class="confirm-question">
                                <h3>Ist das dein Problem? 🤔</h3>
                                <div class="confirm-buttons">
                                    <button class="yes-btn" onclick="showSolutionInline('sma_rueckfragen_projekt', 'details_sma_rueckfragen_projekt')">
                                        👍 Ja
                                    </button>
                                    <button class="no-btn" onclick="showWelcome()">
                                        👎 Nein
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="problem-item">
                        <button class="problem-card" onclick="toggleProblem('sma_rueckfragen_qr', this)">
                            <div class="problem-icon">
                                <i class="fas fa-qrcode"></i>
                            </div>
                            <h3>SMA Rückfragen QR Code</h3>
                            <p>QR Code Probleme bei SMA</p>
                        </button>
                        <div class="problem-details" id="details_sma_rueckfragen_qr">
                            <div class="problem-description">
                                <h4 style="color: #1DD1A1; margin-bottom: 15px; font-size: 1.3rem;">
                                    <i class="fas fa-qrcode"></i> SMA Rückfragen QR Code
                                </h4>
                                <p style="margin-bottom: 20px; color: #2C3E50; font-size: 1.1rem;">
                                    QR Code wird nicht erkannt, funktioniert nicht richtig oder fehlt
                                </p>
                            </div>
                            <div class="confirm-question">
                                <h3>Ist das dein Problem? 🤔</h3>
                                <div class="confirm-buttons">
                                    <button class="yes-btn" onclick="showSolutionInline('sma_rueckfragen_qr', 'details_sma_rueckfragen_qr')">
                                        👍 Ja
                                    </button>
                                    <button class="no-btn" onclick="showWelcome()">
                                        👎 Nein
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="problem-item">
                        <button class="problem-card" onclick="toggleProblem('no_signal', this)">
                            <div class="problem-icon">
                                <i class="fas fa-signal"></i>
                            </div>
                            <h3>Kein Signal</h3>
                            <p>Verbindungsprobleme</p>
                        </button>
                        <div class="problem-details" id="details_no_signal">
                            <div class="problem-description">
                                <h4 style="color: #1DD1A1; margin-bottom: 15px; font-size: 1.3rem;">
                                    <i class="fas fa-signal"></i> Kein Signal
                                </h4>
                                <p style="margin-bottom: 20px; color: #2C3E50; font-size: 1.1rem;">
                                    Verbindungsprobleme - kein Netz
                                </p>
                            </div>
                            <div class="confirm-question">
                                <h3>Ist das dein Problem? 🤔</h3>
                                <div class="confirm-buttons">
                                    <button class="yes-btn" onclick="showSolutionInline('no_signal', 'details_no_signal')">
                                        👍 Ja
                                    </button>
                                    <button class="no-btn" onclick="showWelcome()">
                                        👎 Nein
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="problem-item">
                        <button class="problem-card" onclick="toggleProblem('scan_photo', this)">
                            <div class="problem-icon">
                                <i class="fas fa-camera"></i>
                            </div>
                            <h3>Probleme Scan Photo</h3>
                            <p>Probleme beim Scannen</p>
                        </button>
                        <div class="problem-details" id="details_scan_photo">
                            <div class="problem-description">
                                <h4 style="color: #1DD1A1; margin-bottom: 15px; font-size: 1.3rem;">
                                    <i class="fas fa-camera"></i> Probleme Scan Photo
                                </h4>
                                <p style="margin-bottom: 20px; color: #2C3E50; font-size: 1.1rem;">
                                    Probleme beim Scannen oder Fotografieren
                                </p>
                            </div>
                            <div class="confirm-question">
                                <h3>Ist das dein Problem? 🤔</h3>
                                <div class="confirm-buttons">
                                    <button class="yes-btn" onclick="showSolutionInline('scan_photo', 'details_scan_photo')">
                                        👍 Ja
                                    </button>
                                    <button class="no-btn" onclick="showWelcome()">
                                        👎 Nein
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="problem-item">
                        <button class="problem-card" onclick="toggleProblem('quality_freeze', this)">
                            <div class="problem-icon">
                                <i class="fas fa-hourglass-half"></i>
                            </div>
                            <h3>Berechne Qualität Freeze</h3>
                            <p>System hängt bei Berechnung</p>
                        </button>
                        <div class="problem-details" id="details_quality_freeze">
                            <div class="problem-description">
                                <h4 style="color: #1DD1A1; margin-bottom: 15px; font-size: 1.3rem;">
                                    <i class="fas fa-hourglass-half"></i> Berechne Qualität Freeze
                                </h4>
                                <p style="margin-bottom: 20px; color: #2C3E50; font-size: 1.1rem;">
                                    System hängt bei der Qualitätsberechnung
                                </p>
                            </div>
                            <div class="confirm-question">
                                <h3>Ist das dein Problem? 🤔</h3>
                                <div class="confirm-buttons">
                                    <button class="yes-btn" onclick="showSolutionInline('quality_freeze', 'details_quality_freeze')">
                                        👍 Ja
                                    </button>
                                    <button class="no-btn" onclick="showWelcome()">
                                        👎 Nein
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="problem-item">
                        <button class="problem-card" onclick="toggleProblem('update_service', this)">
                            <div class="problem-icon">
                                <i class="fas fa-download"></i>
                            </div>
                            <h3>Update Service</h3>
                            <p>Update-Probleme und Services</p>
                        </button>
                        <div class="problem-details" id="details_update_service">
                            <div class="problem-description">
                                <h4 style="color: #1DD1A1; margin-bottom: 15px; font-size: 1.3rem;">
                                    <i class="fas fa-download"></i> Update Service
                                </h4>
                                <p style="margin-bottom: 20px; color: #2C3E50; font-size: 1.1rem;">
                                    iOS oder die App brauchen ein Update
                                </p>
                            </div>
                            <div class="confirm-question">
                                <h3>Ist das dein Problem? 🤔</h3>
                                <div class="confirm-buttons">
                                    <button class="yes-btn" onclick="showSolutionInline('update_service', 'details_update_service')">
                                        👍 Ja
                                    </button>
                                    <button class="no-btn" onclick="showWelcome()">
                                        👎 Nein
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="problem-item">
                        <button class="problem-card" onclick="toggleProblem('lost_mode', this)">
                            <div class="problem-icon">
                                <i class="fas fa-search-location"></i>
                            </div>
                            <h3>Lost Mode</h3>
                            <p>Gerät verloren oder gesperrt</p>
                        </button>
                        <div class="problem-details" id="details_lost_mode">
                            <div class="problem-description">
                                <h4 style="color: #1DD1A1; margin-bottom: 15px; font-size: 1.3rem;">
                                    <i class="fas fa-search-location"></i> Lost Mode
                                </h4>
                                <p style="margin-bottom: 20px; color: #2C3E50; font-size: 1.1rem;">
                                    Gerät ist verloren gegangen oder im Lost Mode gesperrt
                                </p>
                            </div>
                            <div class="confirm-question">
                                <h3>Ist das dein Problem? 🤔</h3>
                                <div class="confirm-buttons">
                                    <button class="yes-btn" onclick="showSolutionInline('lost_mode', 'details_lost_mode')">
                                        👍 Ja
                                    </button>
                                    <button class="no-btn" onclick="showWelcome()">
                                        👎 Nein
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="problem-item">
                        <button class="problem-card" onclick="toggleProblem('bestellung', this)">
                            <div class="problem-icon">
                                <i class="fas fa-shopping-cart"></i>
                            </div>
                            <h3>Bestellung</h3>
                            <p>Zubehör oder Geräte bestellen</p>
                        </button>
                        <div class="problem-details" id="details_bestellung">
                            <div class="problem-description">
                                <h4 style="color: #1DD1A1; margin-bottom: 15px; font-size: 1.3rem;">
                                    <i class="fas fa-shopping-cart"></i> Bestellung
                                </h4>
                                <p style="margin-bottom: 20px; color: #2C3E50; font-size: 1.1rem;">
                                    Zubehör oder Geräte bestellen
                                </p>
                            </div>
                            <div class="confirm-question">
                                <h3>Ist das dein Problem? 🤔</h3>
                                <div class="confirm-buttons">
                                    <button class="yes-btn" onclick="showSolutionInline('bestellung', 'details_bestellung')">
                                        👍 Ja
                                    </button>
                                    <button class="no-btn" onclick="showWelcome()">
                                        👎 Nein
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="problem-item">
                        <button class="problem-card" onclick="toggleProblem('geraete_retoure', this)">
                            <div class="problem-icon">
                                <i class="fas fa-undo"></i>
                            </div>
                            <h3>Geräte Retoure</h3>
                            <p>Gerät zurücksenden</p>
                        </button>
                        <div class="problem-details" id="details_geraete_retoure">
                            <div class="problem-description">
                                <h4 style="color: #1DD1A1; margin-bottom: 15px; font-size: 1.3rem;">
                                    <i class="fas fa-undo"></i> Geräte Retoure
                                </h4>
                                <p style="margin-bottom: 20px; color: #2C3E50; font-size: 1.1rem;">
                                    Defektes oder nicht benötigtes Gerät zurücksenden
                                </p>
                            </div>
                            <div class="confirm-question">
                                <h3>Ist das dein Problem? 🤔</h3>
                                <div class="confirm-buttons">
                                    <button class="yes-btn" onclick="showSolutionInline('geraete_retoure', 'details_geraete_retoure')">
                                        👍 Ja
                                    </button>
                                    <button class="no-btn" onclick="showWelcome()">
                                        👎 Nein
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>🏗️ DAVI ist 24/7 für dich da - auch am Wochenende!</p>
            <p>Bei größeren Problemen: Montag bis Freitag wieder im Büro melden oder deine Nummer hinterlassen 📞</p>
        </footer>
    </div>

    <script>
        // ===== DAVI BOT - BAUARBEITER-SUPPORT =====

        // Sprachvariable
        let currentLanguage = 'de'; // Standard ist Deutsch

        // Übersetzungen für alle Sprachen
        const translations = {
            de: {
                // Header
                headerTitle: "Hey! Ich bin DAVI 👋",
                headerSubtitle: "Dein DeepUp Support rund um die Uhr. Suche nach deinem Problem oder klicke es unten an",
                searchPlaceholder: "Suche...",
                
                // Footer
                footerMain: "🏗️ DAVI ist 24/7 für dich da - auch am Wochenende!",
                footerSub: "Bei größeren Problemen: Montag bis Freitag wieder im Büro melden oder deine Nummer hinterlassen 📞",
                
                // Allgemeine Buttons
                yesButton: "👍 Ja",
                noButton: "👎 Nein",
                homeButton: "Zur Startseite",
                callbackButton: "Rückruf am nächsten Morgen (Mo-Fr)",
                
                // Bestätigung
                confirmQuestion: "Ist das dein Problem? 🤔",
                solutionHeader: "Die Lösung:",
                hasWorked: "Hat's geklappt? 🎉",
                hasWorkedSub: "Falls nicht, fordere einen Rückruf an, wir melden uns am nächsten Morgen (Montag bis Freitag).",
                
                // Formular
                formTitle: "📞 Rückruf anfordern (Mo-Fr)",
                formName: "Dein Name:",
                formNamePlaceholder: "z.B. Max Mustermann",
                formPhone: "Deine Telefonnummer:",
                formPhonePlaceholder: "z.B. 0171 123456789",
                formSerial: "Seriennummer (SN):",
                formSerialPlaceholder: "z.B. ABC123DEF456",
                formProblem: "Beschreib dein Problem kurz:",
                formProblemPlaceholder: "Was genau funktioniert nicht? Auf welcher Baustelle bist du?",
                submitButton: "Senden",
                
                // Danke Screen
                thankYou: "Danke! 🙏",
                thankYouSub: "Wir melden uns Mo-Fr morgens bei dir.",
                
                // Fehlermeldungen
                fillAllFields: "Bitte füll alle Felder aus! 📝",
                sendError: "Fehler beim Senden! Versuch es nochmal oder ruf direkt im Büro an. 📞",
                sending: "Wird gesendet..."
            },
            en: {
                // Header
                headerTitle: "Hey! I'm DAVI 👋",
                headerSubtitle: "Your DeepUp Support 24/7. Search for your problem or click on it below",
                searchPlaceholder: "Search...",
                
                // Footer
                footerMain: "🏗️ DAVI is here for you 24/7 - even on weekends!",
                footerSub: "For bigger problems: Get back in touch Monday to Friday or leave your number 📞",
                
                // Allgemeine Buttons
                yesButton: "👍 Yes",
                noButton: "👎 No",
                homeButton: "Back to Home",
                callbackButton: "Callback next morning (Mon-Fri)",
                
                // Bestätigung
                confirmQuestion: "Is this your problem? 🤔",
                solutionHeader: "The Solution:",
                hasWorked: "Did it work? 🎉",
                hasWorkedSub: "If not, request a callback and we'll contact you the next morning (Monday to Friday).",
                
                // Formular
                formTitle: "📞 Request Callback (Mon-Fri)",
                formName: "Your Name:",
                formNamePlaceholder: "e.g. John Smith",
                formPhone: "Your Phone Number:",
                formPhonePlaceholder: "e.g. +44 20 1234 5678",
                formSerial: "Serial Number (SN):",
                formSerialPlaceholder: "e.g. ABC123DEF456",
                formProblem: "Describe your problem briefly:",
                formProblemPlaceholder: "What exactly doesn't work? Which construction site are you at?",
                submitButton: "Send",
                
                // Danke Screen
                thankYou: "Thank you! 🙏",
                thankYouSub: "We'll contact you Mon-Fri morning.",
                
                // Fehlermeldungen
                fillAllFields: "Please fill all fields! 📝",
                sendError: "Error sending! Try again or call the office directly. 📞",
                sending: "Sending..."
            },
            ru: {
                // Header
                headerTitle: "Привет! Я DAVI 👋",
                headerSubtitle: "Ваша поддержка DeepUp 24/7. Найдите вашу проблему или нажмите на неё ниже",
                searchPlaceholder: "Поиск...",
                
                // Footer
                footerMain: "🏗️ DAVI здесь для вас 24/7 - даже в выходные!",
                footerSub: "При серьёзных проблемах: свяжитесь с офисом с понедельника по пятницу или оставьте свой номер 📞",
                
                // Allgemeine Buttons
                yesButton: "👍 Да",
                noButton: "👎 Нет",
                homeButton: "На главную",
                callbackButton: "Обратный звонок утром (Пн-Пт)",
                
                // Bestätigung
                confirmQuestion: "Это ваша проблема? 🤔",
                solutionHeader: "Решение:",
                hasWorked: "Сработало? 🎉",
                hasWorkedSub: "Если нет, запросите обратный звонок, мы свяжемся с вами следующим утром (понедельник-пятница).",
                
                // Formular
                formTitle: "📞 Запросить обратный звонок (Пн-Пт)",
                formName: "Ваше имя:",
                formNamePlaceholder: "например, Иван Петров",
                formPhone: "Ваш номер телефона:",
                formPhonePlaceholder: "например, +7 495 123 45 67",
                formSerial: "Серийный номер (SN):",
                formSerialPlaceholder: "например, ABC123DEF456",
                formProblem: "Кратко опишите вашу проблему:",
                formProblemPlaceholder: "Что именно не работает? На какой стройплощадке вы находитесь?",
                submitButton: "Отправить",
                
                // Danke Screen
                thankYou: "Спасибо! 🙏",
                thankYouSub: "Мы свяжемся с вами утром Пн-Пт.",
                
                // Fehlermeldungen
                fillAllFields: "Пожалуйста, заполните все поля! 📝",
                sendError: "Ошибка отправки! Попробуйте ещё раз или звоните в офис напрямую. 📞",
                sending: "Отправка..."
            },
            tr: {
                // Header
                headerTitle: "Merhaba! Ben DAVI 👋",
                headerSubtitle: "DeepUp desteğiniz 7/24. Sorununuzu arayın veya aşağıdakilerden birine tıklayın",
                searchPlaceholder: "Ara...",
                
                // Footer
                footerMain: "🏗️ DAVI 7/24 sizin için burada - hafta sonları da!",
                footerSub: "Büyük sorunlar için: Pazartesi-Cuma ofise tekrar ulaşın veya numaranızı bırakın 📞",
                
                // Allgemeine Buttons
                yesButton: "👍 Evet",
                noButton: "👎 Hayır",
                homeButton: "Ana Sayfaya Dön",
                callbackButton: "Ertesi sabah geri arama (Pzt-Cum)",
                
                // Bestätigung
                confirmQuestion: "Bu sizin probleminiz mi? 🤔",
                solutionHeader: "Çözüm:",
                hasWorked: "İşe yaradı mı? 🎉",
                hasWorkedSub: "Olmadıysa, geri arama talep edin, ertesi sabah size ulaşacağız (Pazartesi-Cuma).",
                
                // Formular
                formTitle: "📞 Geri Arama Talep Et (Pzt-Cum)",
                formName: "Adınız:",
                formNamePlaceholder: "örn. Ahmet Yılmaz",
                formPhone: "Telefon Numaranız:",
                formPhonePlaceholder: "örn. +90 212 123 45 67",
                formSerial: "Seri Numarası (SN):",
                formSerialPlaceholder: "örn. ABC123DEF456",
                formProblem: "Sorununuzu kısaca açıklayın:",
                formProblemPlaceholder: "Tam olarak ne çalışmıyor? Hangi şantiyedesiniz?",
                submitButton: "Gönder",
                
                // Danke Screen
                thankYou: "Teşekkürler! 🙏",
                thankYouSub: "Pzt-Cum sabah size ulaşacağız.",
                
                // Fehlermeldungen
                fillAllFields: "Lütfen tüm alanları doldurun! 📝",
                sendError: "Gönderim hatası! Tekrar deneyin veya ofisi doğrudan arayın. 📞",
                sending: "Gönderiliyor..."
            }
        };

        // Multilinguale Problem-Daten
        const problemDataMultiLang = {
            de: {
            app_glitch: {
                title: "App Glitch",
                icon: "fas fa-wifi",
                description: "App lässt sich nicht öffnen",
                solutions: [
                    {
                        title: "Neustart machen",
                        icon: "fas fa-cog",
                        description: "Starte deinen Scan Device neu, wie du das machst erfährst du HIER."
                    },
                    {
                        title: "Verbindung abwarten",
                        icon: "fas fa-sync",
                        description: "Warte 5 Minuten, manchmal dauert es, bis eine neue Verbindung kommt."
                    }
                ]
            },
            app_glitch_einstellungen: {
                title: "App Glitch mit Einstellungen",
                icon: "fas fa-cogs",
                description: "Scan App und Einstellungen öffnen sich nicht",
                solutions: [
                    {
                        title: "Neustart machen",
                        icon: "fas fa-power-off",
                        description: "Starte deinen Scan Device neu, wie du das machst erfährst du HIER."
                    },
                    {
                        title: "Flugmodus Trick",
                        icon: "fas fa-plane",
                        description: "Flugmodus mehrere Male ein und ausschalten. Hilft bei Verbindungsproblemen."
                    },
                    {
                        title: "Batterie komplett leer machen",
                        icon: "fas fa-battery-empty",
                        description: "Wenn nichts hilft: Gerät komplett leer laufen lassen, dann wieder aufladen."
                    }
                ]
            },
            sma_rueckfragen_projekt: {
                title: "SMA Rückfragen Projekt",
                icon: "fas fa-project-diagram",
                description: "Projekt wird nicht angezeigt - SMA nicht sichtbar",
                solutions: [
                    {
                        title: "Neustart + iOS Update",
                        icon: "fas fa-sync-alt",
                        description: "Starte deinen Scan Device neu und schaue, ob es ein iOS Update gibt, wie du das machst erfährst du HIER."
                 
                    }
                ]
            },
            sma_rueckfragen_qr: {
                title: "SMA Rückfragen QR Code",
                icon: "fas fa-qrcode",
                description: "QR Code wird nicht erkannt, funktioniert nicht richtig oder fehlt",
                solutions: [
                    {
                        title: "QR Code fehlt",
                        icon: "fas fa-broom",
                        description: "Lasse ihn dir vom Auftraggeber senden"
                    },
                    {
                        title: "Kamera sauber machen",
                        icon: "fas fa-broom",
                        description: "Kameralinse hinten sauber wischen. QR Codes brauchen eine saubere Linse."
                    },
                    {
                        title: "Besseres Licht + Abstand",
                        icon: "fas fa-lightbulb",
                        description: "Mehr Licht holen und verschiedene Abstände zum QR Code probieren."
                    },
                    {
                        title: "Neustart machen",
                        icon: "fas fa-redo",
                        description: "Starte dein Scan Device neu, wie du das machst erfährst du HIER."
                    }
                ]
            },
            no_signal: {
                title: "Kein Signal",
                icon: "fas fa-signal",
                description: "Verbindungsprobleme - kein Netz",
                solutions: [
                    {
                        title: "Standort wechseln",
                        icon: "fas fa-location-arrow",
                        description: "Geh mal ein paar Meter weiter oder höher. Manchmal ist das Signal woanders besser."
                    },
                    {
                        title: "Ladeimpuls geben",
                        icon: "fas fa-plug",
                        description: "Steck den Scan Device einmal kurz ans Ladekabel. Das kann die Verbindung wieder aktivieren."
                    },
                    {
                        title: "Neustart machen",
                        icon: "fas fa-wifi",
                        description: "Starte deinen Scan Device neu, wie du das machst erfährst du HIER."
                    }
                ]
            },
            scan_photo: {
                title: "Probleme Scan Photo",
                icon: "fas fa-camera",
                description: "Probleme beim Scannen oder Fotografieren",
                solutions: [
                    {
                        title: "Kamera sauber machen",
                        icon: "fas fa-broom",
                        description: "Kameralinse hinten am Tablet sauber wischen. Staub und Dreck stört das Scannen."
                    },
                    {
                        title: "Besseres Licht",
                        icon: "fas fa-lightbulb",
                        description: "Mehr Licht holen oder aus dem Schatten gehen. Die Kamera braucht gutes Licht."
                    },
                    {
                        title: "Neustart machen",
                        icon: "fas fa-redo",
                        description: "Starte deinen Scan Device neu, wie du das machst erfährst du HIER."
                    }
                ]
            },
            quality_freeze: {
                title: "Berechne Qualität Freeze",
                icon: "fas fa-hourglass-half",
                description: "System hängt bei der Qualitätsberechnung",
                solutions: [
                    {
                        title: "Einfach warten",
                        icon: "fas fa-coffee",
                        description: "Manchmal dauert die Berechnung einfach länger. Gönn dir einen Kaffee und warte 5-10 Minuten."
                    },
                    {
                        title: "Neustart machen",
                        icon: "fas fa-power-off",
                        description: "Starte deinen Scan Device neu, wie du das machst erfährst du HIER."
                    },
                    {
                        title: "⚠️ Wichtiger Hinweis",
                        icon: "fas fa-exclamation-triangle",
                        description: "Wenn alles wieder funktioniert, musst du den Scan komplett wiederholen - die vorherigen Daten sind verloren."
                    }
                ]
            },
            update_service: {
                title: "Update Service",
                icon: "fas fa-download",
                description: "iOS oder die App brauchen ein Update",
                solutions: [
                    {
                        title: "App oder iOS updaten",
                        icon: "fas fa-wifi",
                        description: "Wie du die App oder iOS updaten kannst, erfährst du HIER."
                    }
                ]
            },
            lost_mode: {
                title: "Lost Mode",
                icon: "fas fa-search-location",
                description: "Gerät ist verloren gegangen oder im Lost Mode gesperrt",
                solutions: [
                    {
                        title: "iPad verloren",
                        icon: "fas fa-search",
                        description: "Bei dieser Meldung wende dich bitte an deinen Auftraggeber, er muss das Gerät zurücksenden und ein neues bestellen."
                    },
                    {
                        title: "iPad gesperrt",
                        icon: "fas fa-lock",
                        description: "Wenn die Meldung anders als unter 1. ist, dann starte bitte eine Rückrufbitte und wir kümmern uns darum."
                    }
                ]
            },
            bestellung: {
                title: "Bestellung",
                icon: "fas fa-shopping-cart",
                description: "Zubehör oder Geräte bestellen",
                solutions: [
                    {
                        title: "Was wird benötigt?",
                        icon: "fas fa-list",
                        description: "Aufschreiben was genau gebraucht wird - Ladekabel, Scan Device, Koffer etc."
                    },
                    {
                        title: "Bestellen",
                        icon: "fas fa-phone",
                        description: "HIER kannst du kostenpflichtig bestellen."
                    },
                    {
                        title: "Auftraggeber kontaktieren",
                        icon: "fas fa-exclamation-triangle",
                        description: "Den Auftraggeber bitte zu bestellen."
                    }
                ]
            },
            geraete_retoure: {
                title: "Geräte Retoure",
                icon: "fas fa-undo",
                description: "Defektes oder nicht benötigtes Gerät zurücksenden",
                solutions: [
                    {
                        title: "So gehts",
                        icon: "fas fa-clipboard-check",
                        description: "HIER erfährst du, wie du eine Retoure durchführst."
                    },
                    {
                        title: "Auftraggeber kontaktieren",
                        icon: "fas fa-file-alt",
                        description: "Kontaktiere deinen Auftraggeber, damit er die Retoure organisieren kann."
                  
                    }
                ]
            }
        },
        en: {
            app_glitch: {
                title: "App Glitch",
                icon: "fas fa-wifi",
                description: "App won't open",
                solutions: [
                    {
                        title: "Restart Device",
                        icon: "fas fa-cog",
                        description: "Restart your Scan Device, learn how to do it HERE."
                    },
                    {
                        title: "Wait for Connection",
                        icon: "fas fa-sync",
                        description: "Wait 5 minutes, sometimes it takes time for a new connection to establish."
                    }
                ]
            },
            app_glitch_einstellungen: {
                title: "App Glitch with Settings",
                icon: "fas fa-cogs",
                description: "Scan App and Settings won't open",
                solutions: [
                    {
                        title: "Restart Device",
                        icon: "fas fa-power-off",
                        description: "Restart your Scan Device, learn how to do it HERE."
                    },
                    {
                        title: "Airplane Mode Trick",
                        icon: "fas fa-plane",
                        description: "Turn airplane mode on and off several times. Helps with connection issues."
                    },
                    {
                        title: "Drain Battery Completely",
                        icon: "fas fa-battery-empty",
                        description: "If nothing helps: Let device run completely empty, then recharge."
                    }
                ]
            },
            sma_rueckfragen_projekt: {
                title: "SMA Project Inquiry",
                icon: "fas fa-project-diagram",
                description: "Project not displayed - SMA not visible",
                solutions: [
                    {
                        title: "Restart + iOS Update",
                        icon: "fas fa-sync-alt",
                        description: "Restart your Scan Device and check for iOS updates, learn how HERE."
                    }
                ]
            },
            sma_rueckfragen_qr: {
                title: "SMA QR Code Inquiry",
                icon: "fas fa-qrcode",
                description: "QR Code not recognized, doesn't work properly or is missing",
                solutions: [
                    {
                        title: "QR Code Missing",
                        icon: "fas fa-broom",
                        description: "Ask your client to send it to you"
                    },
                    {
                        title: "Clean Camera",
                        icon: "fas fa-broom",
                        description: "Clean the rear camera lens. QR codes need a clean lens."
                    },
                    {
                        title: "Better Light + Distance",
                        icon: "fas fa-lightbulb",
                        description: "Get more light and try different distances to the QR code."
                    },
                    {
                        title: "Restart Device",
                        icon: "fas fa-redo",
                        description: "Restart your Scan Device, learn how HERE."
                    }
                ]
            },
            no_signal: {
                title: "No Signal",
                icon: "fas fa-signal",
                description: "Connection problems - no network",
                solutions: [
                    {
                        title: "Change Location",
                        icon: "fas fa-location-arrow",
                        description: "Move a few meters away or higher. Sometimes the signal is better elsewhere."
                    },
                    {
                        title: "Charging Pulse",
                        icon: "fas fa-plug",
                        description: "Briefly connect the Scan Device to the charging cable. This can reactivate the connection."
                    },
                    {
                        title: "Restart Device",
                        icon: "fas fa-wifi",
                        description: "Restart your Scan Device, learn how HERE."
                    }
                ]
            },
            scan_photo: {
                title: "Scan Photo Problems",
                icon: "fas fa-camera",
                description: "Problems with scanning or taking photos",
                solutions: [
                    {
                        title: "Clean Camera",
                        icon: "fas fa-broom",
                        description: "Clean the rear camera lens on the tablet. Dust and dirt interfere with scanning."
                    },
                    {
                        title: "Better Light",
                        icon: "fas fa-lightbulb",
                        description: "Get more light or move out of shadows. The camera needs good light."
                    },
                    {
                        title: "Restart Device",
                        icon: "fas fa-redo",
                        description: "Restart your Scan Device, learn how HERE."
                    }
                ]
            },
            quality_freeze: {
                title: "Calculate Quality Freeze",
                icon: "fas fa-hourglass-half",
                description: "System freezes during quality calculation",
                solutions: [
                    {
                        title: "Just Wait",
                        icon: "fas fa-coffee",
                        description: "Sometimes the calculation just takes longer. Have a coffee and wait 5-10 minutes."
                    },
                    {
                        title: "Restart Device",
                        icon: "fas fa-power-off",
                        description: "Restart your Scan Device, learn how HERE."
                    },
                    {
                        title: "⚠️ Important Note",
                        icon: "fas fa-exclamation-triangle",
                        description: "When everything works again, you must repeat the entire scan - previous data is lost."
                    }
                ]
            },
            update_service: {
                title: "Update Service",
                icon: "fas fa-download",
                description: "iOS or the app needs an update",
                solutions: [
                    {
                        title: "Update App or iOS",
                        icon: "fas fa-wifi",
                        description: "Learn how to update the app or iOS HERE."
                    }
                ]
            },
            lost_mode: {
                title: "Lost Mode",
                icon: "fas fa-search-location",
                description: "Device is lost or locked in Lost Mode",
                solutions: [
                    {
                        title: "iPad Lost",
                        icon: "fas fa-search",
                        description: "With this message, please contact your client, they must return the device and order a new one."
                    },
                    {
                        title: "iPad Locked",
                        icon: "fas fa-lock",
                        description: "If the message is different than #1, please start a callback request and we'll take care of it."
                    }
                ]
            },
            bestellung: {
                title: "Order",
                icon: "fas fa-shopping-cart",
                description: "Order accessories or devices",
                solutions: [
                    {
                        title: "What is Needed?",
                        icon: "fas fa-list",
                        description: "Write down exactly what is needed - charging cable, Scan Device, case etc."
                    },
                    {
                        title: "Order",
                        icon: "fas fa-phone",
                        description: "You can order for a fee HERE."
                    },
                    {
                        title: "Contact Client",
                        icon: "fas fa-exclamation-triangle",
                        description: "Ask the client to place the order."
                    }
                ]
            },
            geraete_retoure: {
                title: "Device Return",
                icon: "fas fa-undo",
                description: "Return defective or unneeded device",
                solutions: [
                    {
                        title: "How to Do It",
                        icon: "fas fa-clipboard-check",
                        description: "Learn how to perform a return HERE."
                    },
                    {
                        title: "Contact Client",
                        icon: "fas fa-file-alt",
                        description: "Contact your client so they can organize the return."
                    }
                ]
            }
        },
        ru: {
            app_glitch: {
                title: "Сбой приложения",
                icon: "fas fa-wifi",
                description: "Приложение не открывается",
                solutions: [
                    {
                        title: "Перезагрузить устройство",
                        icon: "fas fa-cog",
                        description: "Перезагрузите ваше сканирующее устройство, как это сделать узнайте ЗДЕСЬ."
                    },
                    {
                        title: "Дождаться соединения",
                        icon: "fas fa-sync",
                        description: "Подождите 5 минут, иногда требуется время для установления нового соединения."
                    }
                ]
            },
            app_glitch_einstellungen: {
                title: "Сбой приложения с настройками",
                icon: "fas fa-cogs",
                description: "Приложение сканирования и настройки не открываются",
                solutions: [
                    {
                        title: "Перезагрузить устройство",
                        icon: "fas fa-power-off",
                        description: "Перезагрузите ваше сканирующее устройство, как это сделать узнайте ЗДЕСЬ."
                    },
                    {
                        title: "Трюк с авиарежимом",
                        icon: "fas fa-plane",
                        description: "Несколько раз включите и выключите авиарежим. Помогает при проблемах с соединением."
                    },
                    {
                        title: "Полностью разрядить батарею",
                        icon: "fas fa-battery-empty",
                        description: "Если ничего не помогает: дайте устройству полностью разрядиться, затем зарядите."
                    }
                ]
            },
            sma_rueckfragen_projekt: {
                title: "Запрос проекта SMA",
                icon: "fas fa-project-diagram",
                description: "Проект не отображается - SMA не видна",
                solutions: [
                    {
                        title: "Перезагрузка + обновление iOS",
                        icon: "fas fa-sync-alt",
                        description: "Перезагрузите сканирующее устройство и проверьте обновления iOS, как это сделать узнайте ЗДЕСЬ."
                    }
                ]
            },
            sma_rueckfragen_qr: {
                title: "Запрос QR-кода SMA",
                icon: "fas fa-qrcode",
                description: "QR-код не распознается, работает неправильно или отсутствует",
                solutions: [
                    {
                        title: "QR-код отсутствует",
                        icon: "fas fa-broom",
                        description: "Попросите заказчика отправить его вам"
                    },
                    {
                        title: "Очистить камеру",
                        icon: "fas fa-broom",
                        description: "Протрите заднюю линзу камеры. QR-коды требуют чистой линзы."
                    },
                    {
                        title: "Лучше освещение + расстояние",
                        icon: "fas fa-lightbulb",
                        description: "Обеспечьте больше света и попробуйте разные расстояния до QR-кода."
                    },
                    {
                        title: "Перезагрузить устройство",
                        icon: "fas fa-redo",
                        description: "Перезагрузите сканирующее устройство, как это сделать узнайте ЗДЕСЬ."
                    }
                ]
            },
            no_signal: {
                title: "Нет сигнала",
                icon: "fas fa-signal",
                description: "Проблемы с соединением - нет сети",
                solutions: [
                    {
                        title: "Сменить местоположение",
                        icon: "fas fa-location-arrow",
                        description: "Переместитесь на несколько метров или выше. Иногда сигнал лучше в другом месте."
                    },
                    {
                        title: "Импульс зарядки",
                        icon: "fas fa-plug",
                        description: "Кратковременно подключите сканирующее устройство к зарядному кабелю. Это может восстановить соединение."
                    },
                    {
                        title: "Перезагрузить устройство",
                        icon: "fas fa-wifi",
                        description: "Перезагрузите сканирующее устройство, как это сделать узнайте ЗДЕСЬ."
                    }
                ]
            },
            scan_photo: {
                title: "Проблемы со сканированием фото",
                icon: "fas fa-camera",
                description: "Проблемы со сканированием или фотографированием",
                solutions: [
                    {
                        title: "Очистить камеру",
                        icon: "fas fa-broom",
                        description: "Протрите заднюю линзу камеры на планшете. Пыль и грязь мешают сканированию."
                    },
                    {
                        title: "Лучше освещение",
                        icon: "fas fa-lightbulb",
                        description: "Обеспечьте больше света или выйдите из тени. Камере нужно хорошее освещение."
                    },
                    {
                        title: "Перезагрузить устройство",
                        icon: "fas fa-redo",
                        description: "Перезагрузите сканирующее устройство, как это сделать узнайте ЗДЕСЬ."
                    }
                ]
            },
            quality_freeze: {
                title: "Зависание расчета качества",
                icon: "fas fa-hourglass-half",
                description: "Система зависает при расчете качества",
                solutions: [
                    {
                        title: "Просто подождать",
                        icon: "fas fa-coffee",
                        description: "Иногда расчет просто занимает больше времени. Выпейте кофе и подождите 5-10 минут."
                    },
                    {
                        title: "Перезагрузить устройство",
                        icon: "fas fa-power-off",
                        description: "Перезагрузите сканирующее устройство, как это сделать узнайте ЗДЕСЬ."
                    },
                    {
                        title: "⚠️ Важная заметка",
                        icon: "fas fa-exclamation-triangle",
                        description: "Когда все снова заработает, вы должны полностью повторить сканирование - предыдущие данные потеряны."
                    }
                ]
            },
            update_service: {
                title: "Служба обновлений",
                icon: "fas fa-download",
                description: "iOS или приложение нуждается в обновлении",
                solutions: [
                    {
                        title: "Обновить приложение или iOS",
                        icon: "fas fa-wifi",
                        description: "Как обновить приложение или iOS узнайте ЗДЕСЬ."
                    }
                ]
            },
            lost_mode: {
                title: "Режим потери",
                icon: "fas fa-search-location",
                description: "Устройство потеряно или заблокировано в режиме потери",
                solutions: [
                    {
                        title: "iPad потерян",
                        icon: "fas fa-search",
                        description: "При этом сообщении обратитесь к заказчику, он должен вернуть устройство и заказать новое."
                    },
                    {
                        title: "iPad заблокирован",
                        icon: "fas fa-lock",
                        description: "Если сообщение отличается от п.1, запросите обратный звонок, и мы разберемся."
                    }
                ]
            },
            bestellung: {
                title: "Заказ",
                icon: "fas fa-shopping-cart",
                description: "Заказать аксессуары или устройства",
                solutions: [
                    {
                        title: "Что нужно?",
                        icon: "fas fa-list",
                        description: "Запишите точно что нужно - зарядный кабель, сканирующее устройство, чехол и т.д."
                    },
                    {
                        title: "Заказать",
                        icon: "fas fa-phone",
                        description: "Вы можете заказать за плату ЗДЕСЬ."
                    },
                    {
                        title: "Связаться с заказчиком",
                        icon: "fas fa-exclamation-triangle",
                        description: "Попросите заказчика сделать заказ."
                    }
                ]
            },
            geraete_retoure: {
                title: "Возврат устройства",
                icon: "fas fa-undo",
                description: "Вернуть дефектное или ненужное устройство",
                solutions: [
                    {
                        title: "Как это сделать",
                        icon: "fas fa-clipboard-check",
                        description: "Как выполнить возврат узнайте ЗДЕСЬ."
                    },
                    {
                        title: "Связаться с заказчиком",
                        icon: "fas fa-file-alt",
                        description: "Свяжитесь с заказчиком, чтобы он организовал возврат."
                    }
                ]
            }
        },
        tr: {
            app_glitch: {
                title: "Uygulama Hatası",
                icon: "fas fa-wifi",
                description: "Uygulama açılmıyor",
                solutions: [
                    {
                        title: "Cihazı Yeniden Başlat",
                        icon: "fas fa-cog",
                        description: "Tarama Cihazınızı yeniden başlatın, nasıl yapılacağını BURADA öğrenin."
                    },
                    {
                        title: "Bağlantıyı Bekle",
                        icon: "fas fa-sync",
                        description: "5 dakika bekleyin, bazen yeni bağlantının kurulması zaman alır."
                    }
                ]
            },
            app_glitch_einstellungen: {
                title: "Ayarlarla Uygulama Hatası",
                icon: "fas fa-cogs",
                description: "Tarama Uygulaması ve Ayarlar açılmıyor",
                solutions: [
                    {
                        title: "Cihazı Yeniden Başlat",
                        icon: "fas fa-power-off",
                        description: "Tarama Cihazınızı yeniden başlatın, nasıl yapılacağını BURADA öğrenin."
                    },
                    {
                        title: "Uçak Modu Hilesi",
                        icon: "fas fa-plane",
                        description: "Uçak modunu birkaç kez açıp kapatın. Bağlantı sorunlarında yardımcı olur."
                    },
                    {
                        title: "Bataryayı Tamamen Bitir",
                        icon: "fas fa-battery-empty",
                        description: "Hiçbir şey işe yaramazsa: cihazı tamamen bitirin, sonra şarj edin."
                    }
                ]
            },
            sma_rueckfragen_projekt: {
                title: "SMA Proje Sorgusu",
                icon: "fas fa-project-diagram",
                description: "Proje görüntülenmiyor - SMA görünmüyor",
                solutions: [
                    {
                        title: "Yeniden Başlatma + iOS Güncellemesi",
                        icon: "fas fa-sync-alt",
                        description: "Tarama Cihazınızı yeniden başlatın ve iOS güncellemelerini kontrol edin, nasıl yapılacağını BURADA öğrenin."
                    }
                ]
            },
            sma_rueckfragen_qr: {
                title: "SMA QR Kod Sorgusu",
                icon: "fas fa-qrcode",
                description: "QR Kod tanınmıyor, düzgün çalışmıyor veya eksik",
                solutions: [
                    {
                        title: "QR Kod Eksik",
                        icon: "fas fa-broom",
                        description: "Müşterinizden size göndermesini isteyin"
                    },
                    {
                        title: "Kamerayı Temizle",
                        icon: "fas fa-broom",
                        description: "Arka kamera lensini temizleyin. QR kodlar temiz lens gerektirir."
                    },
                    {
                        title: "Daha İyi Işık + Mesafe",
                        icon: "fas fa-lightbulb",
                        description: "Daha fazla ışık alın ve QR koda farklı mesafeler deneyin."
                    },
                    {
                        title: "Cihazı Yeniden Başlat",
                        icon: "fas fa-redo",
                        description: "Tarama Cihazınızı yeniden başlatın, nasıl yapılacağını BURADA öğrenin."
                    }
                ]
            },
            no_signal: {
                title: "Sinyal Yok",
                icon: "fas fa-signal",
                description: "Bağlantı sorunları - ağ yok",
                solutions: [
                    {
                        title: "Konumu Değiştir",
                        icon: "fas fa-location-arrow",
                        description: "Birkaç metre uzağa veya daha yükseğe gidin. Bazen sinyal başka yerde daha iyi olur."
                    },
                    {
                        title: "Şarj Darbesi",
                        icon: "fas fa-plug",
                        description: "Tarama Cihazını şarj kablosuna kısaca bağlayın. Bu bağlantıyı yeniden etkinleştirebilir."
                    },
                    {
                        title: "Cihazı Yeniden Başlat",
                        icon: "fas fa-wifi",
                        description: "Tarama Cihazınızı yeniden başlatın, nasıl yapılacağını BURADA öğrenin."
                    }
                ]
            },
            scan_photo: {
                title: "Tarama Foto Sorunları",
                icon: "fas fa-camera",
                description: "Tarama veya fotoğraf çekme sorunları",
                solutions: [
                    {
                        title: "Kamerayı Temizle",
                        icon: "fas fa-broom",
                        description: "Tabletteki arka kamera lensini temizleyin. Toz ve kir taramayı engeller."
                    },
                    {
                        title: "Daha İyi Işık",
                        icon: "fas fa-lightbulb",
                        description: "Daha fazla ışık alın veya gölgeden çıkın. Kamera iyi ışığa ihtiyaç duyar."
                    },
                    {
                        title: "Cihazı Yeniden Başlat",
                        icon: "fas fa-redo",
                        description: "Tarama Cihazınızı yeniden başlatın, nasıl yapılacağını BURADA öğrenin."
                    }
                ]
            },
            quality_freeze: {
                title: "Kalite Hesaplama Donması",
                icon: "fas fa-hourglass-half",
                description: "Sistem kalite hesaplamasında donuyor",
                solutions: [
                    {
                        title: "Sadece Bekle",
                        icon: "fas fa-coffee",
                        description: "Bazen hesaplama sadece daha uzun sürer. Bir kahve için ve 5-10 dakika bekleyin."
                    },
                    {
                        title: "Cihazı Yeniden Başlat",
                        icon: "fas fa-power-off",
                        description: "Tarama Cihazınızı yeniden başlatın, nasıl yapılacağını BURADA öğrenin."
                    },
                    {
                        title: "⚠️ Önemli Not",
                        icon: "fas fa-exclamation-triangle",
                        description: "Her şey tekrar çalıştığında, tüm taramayı tekrarlamanız gerekir - önceki veriler kayboldu."
                    }
                ]
            },
            update_service: {
                title: "Güncelleme Servisi",
                icon: "fas fa-download",
                description: "iOS veya uygulama güncelleme gerektiriyor",
                solutions: [
                    {
                        title: "Uygulamayı veya iOS'u Güncelle",
                        icon: "fas fa-wifi",
                        description: "Uygulamayı veya iOS'u nasıl güncelleyeceğinizi BURADA öğrenin."
                    }
                ]
            },
            lost_mode: {
                title: "Kayıp Modu",
                icon: "fas fa-search-location",
                description: "Cihaz kayboldu veya Kayıp Modunda kilitli",
                solutions: [
                    {
                        title: "iPad Kayboldu",
                        icon: "fas fa-search",
                        description: "Bu mesajla müşterinizle iletişime geçin, cihazı iade etmeli ve yeni sipariş vermeli."
                    },
                    {
                        title: "iPad Kilitli",
                        icon: "fas fa-lock",
                        description: "Mesaj 1. maddeden farklıysa, geri arama talebi başlatın ve biz halledeceğiz."
                    }
                ]
            },
            bestellung: {
                title: "Sipariş",
                icon: "fas fa-shopping-cart",
                description: "Aksesuar veya cihaz siparişi",
                solutions: [
                    {
                        title: "Neye İhtiyaç Var?",
                        icon: "fas fa-list",
                        description: "Tam olarak neye ihtiyaç olduğunu yazın - şarj kablosu, Tarama Cihazı, çanta vs."
                    },
                    {
                        title: "Sipariş Ver",
                        icon: "fas fa-phone",
                        description: "Ücretli olarak BURADA sipariş verebilirsiniz."
                    },
                    {
                        title: "Müşteriyle İletişime Geç",
                        icon: "fas fa-exclamation-triangle",
                        description: "Müşteriden sipariş vermesini isteyin."
                    }
                ]
            },
            geraete_retoure: {
                title: "Cihaz İadesi",
                icon: "fas fa-undo",
                description: "Arızalı veya gereksiz cihazı iade et",
                solutions: [
                    {
                        title: "Nasıl Yapılır",
                        icon: "fas fa-clipboard-check",
                        description: "İade işlemini nasıl gerçekleştireceğinizi BURADA öğrenin."
                    },
                    {
                        title: "Müşteriyle İletişime Geç",
                        icon: "fas fa-file-alt",
                        description: "İadeyi organize etmesi için müşterinizle iletişime geçin."
                    }
                ]
            }
        }
    };

    // Aktuelle Problem-Daten (wird je nach Sprache gesetzt)
    let problemData = {};

        // Aktueller Status
        let currentView = 'language';
        let currentProblem = null;

        // DOM-Elemente
        const languageView = document.getElementById('languageView');
        const welcomeView = document.getElementById('welcomeView');
        const searchInput = document.getElementById('searchInput');
        const clearSearch = document.getElementById('clearSearch');

        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            initializeEventListeners();
            showLanguageSelection();
        });

        // ===== SPRACHAUSWAHL =====
        function selectLanguage(language) {
            currentLanguage = language;
            problemData = problemDataMultiLang[language];
            updateLanguageButton();
            updateUI();
            showWelcome();
        }

        function showLanguageSelection() {
            currentView = 'language';
            languageView.classList.add('active');
            welcomeView.classList.remove('active');
            
            // Hide language button on language selection screen
            const languageBtn = document.getElementById('languageBtn');
            if (languageBtn) {
                languageBtn.style.display = 'none';
            }
            
            // Hide search section on language selection
            const searchSection = document.querySelector('.search-section');
            if (searchSection) {
                searchSection.style.display = 'none';
            }
            
            // Update header for language selection
            updateHeaderForLanguageSelection();
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function updateLanguageButton() {
            const languageBtn = document.getElementById('languageBtn');
            const currentFlag = document.getElementById('currentFlag');
            const currentLangText = document.getElementById('currentLangText');
            
            // Language data for button display
            const langData = {
                de: { flag: '🇩🇪', name: 'Deutsch' },
                en: { flag: '🇬🇧', name: 'English' },
                ru: { flag: '🇷🇺', name: 'Русский' },
                tr: { flag: '🇹🇷', name: 'Türkçe' }
            };
            
            if (languageBtn && currentFlag && currentLangText && langData[currentLanguage]) {
                currentFlag.textContent = langData[currentLanguage].flag;
                currentLangText.textContent = langData[currentLanguage].name;
                languageBtn.style.display = 'flex';
            }
        }

        function updateHeaderForLanguageSelection() {
            const headerTitle = document.querySelector('.header-text h1');
            const headerSubtitle = document.querySelector('.header-text p');
            
            if (headerTitle) {
                headerTitle.innerHTML = 'Hey! Ich bin DAVI 👋';
            }
            if (headerSubtitle) {
                headerSubtitle.innerHTML = 'Wähle deine Sprache • Choose your language • Выберите язык • Dilinizi seçin';
            }
        }

        function updateHeaderForMainView() {
            const t = translations[currentLanguage];
            const headerTitle = document.querySelector('.header-text h1');
            const headerSubtitle = document.querySelector('.header-text p');
            
            if (headerTitle && t) {
                headerTitle.innerHTML = t.headerTitle;
            }
            if (headerSubtitle && t) {
                headerSubtitle.innerHTML = t.headerSubtitle;
            }
        }

        function updateUI() {
            const t = translations[currentLanguage];
            
            // Header aktualisieren
            document.querySelector('.header-text h1').innerHTML = t.headerTitle;
            document.querySelector('.header-text p').innerHTML = t.headerSubtitle;
            
            // Suchfeld aktualisieren
            searchInput.placeholder = t.searchPlaceholder;
            
            // Footer aktualisieren
            document.querySelector('.footer p:first-child').innerHTML = t.footerMain;
            document.querySelector('.footer p:last-child').innerHTML = t.footerSub;
            
            // Problem-Grid aktualisieren
            updateProblemGrid();
        }

        function updateProblemGrid() {
            const problemGrid = document.querySelector('.problem-grid');
            if (!problemGrid) return;
            
            const problemKeys = Object.keys(problemData);
            let gridHTML = '';
            
            problemKeys.forEach(problemKey => {
                const problem = problemData[problemKey];
                gridHTML += `
                    <div class="problem-item">
                        <button class="problem-card" onclick="toggleProblem('${problemKey}', this)">
                            <div class="problem-icon">
                                <i class="${problem.icon}"></i>
                            </div>
                            <h3>${problem.title}</h3>
                            <p>${problem.description}</p>
                        </button>
                        <div class="problem-details" id="details_${problemKey}">
                            <div class="problem-description">
                                <h4 style="color: #1DD1A1; margin-bottom: 15px; font-size: 1.3rem;">
                                    <i class="${problem.icon}"></i> ${problem.title}
                                </h4>
                                <p style="margin-bottom: 20px; color: #2C3E50; font-size: 1.1rem;">
                                    ${problem.description}
                                </p>
                            </div>
                            <div class="confirm-question">
                                <h3>${translations[currentLanguage].confirmQuestion}</h3>
                                <div class="confirm-buttons">
                                    <button class="yes-btn" onclick="showSolutionInline('${problemKey}', 'details_${problemKey}')">
                                        ${translations[currentLanguage].yesButton}
                                    </button>
                                    <button class="no-btn" onclick="showWelcome()">
                                        ${translations[currentLanguage].noButton}
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            problemGrid.innerHTML = gridHTML;
        }

        function initializeEventListeners() {
            searchInput.addEventListener('input', handleSearch);
            clearSearch.addEventListener('click', clearSearchFunction);
            searchInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    handleSearch();
                }
            });
        }

        // ===== VIEW MANAGEMENT =====
        function showWelcome() {
            currentView = 'welcome';
            currentProblem = null;
            languageView.classList.remove('active');
            welcomeView.classList.add('active');
            
            // Show language button in main view
            updateLanguageButton();
            
            // Show search section again
            const searchSection = document.querySelector('.search-section');
            if (searchSection) {
                searchSection.style.display = 'block';
            }
            
            // Update header for main view
            updateHeaderForMainView();
            
            clearSearchFunction();
            // Close all open problem details
            closeAllProblems();
            // Reset all problem details to original content
            resetAllProblemDetails();
            // Scroll to the very top of the page
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function resetAllProblemDetails() {
            // Reset each problem details to original content
            const problemKeys = Object.keys(problemData);
            const t = translations[currentLanguage];
            
            problemKeys.forEach(problemKey => {
                const detailsElement = document.getElementById(`details_${problemKey}`);
                if (detailsElement) {
                    // Get the original problem data
                    const problem = problemData[problemKey];
                    
                    // Reset to original content with confirmation question
                    detailsElement.innerHTML = `
                        <div class="problem-description">
                            <h4 style="color: #1DD1A1; margin-bottom: 15px; font-size: 1.3rem;">
                                <i class="${problem.icon}"></i> ${problem.title}
                            </h4>
                            <p style="margin-bottom: 20px; color: #2C3E50; font-size: 1.1rem;">
                                ${problem.description}
                            </p>
                        </div>
                        <div class="confirm-question">
                            <h3>${t.confirmQuestion}</h3>
                            <div class="confirm-buttons">
                                <button class="yes-btn" onclick="showSolutionInline('${problemKey}', 'details_${problemKey}')">
                                    ${t.yesButton}
                                </button>
                                <button class="no-btn" onclick="showWelcome()">
                                    ${t.noButton}
                                </button>
                            </div>
                        </div>
                    `;
                }
            });
        }

        // ===== INLINE PROBLEM MANAGEMENT =====
        function toggleProblem(problemKey, cardElement) {
            const detailsElement = document.getElementById(`details_${problemKey}`);
            
            // Check if this problem is already open
            const isCurrentlyOpen = detailsElement.classList.contains('active');
            
            // Close all problems first
            closeAllProblems();
            
            // If it wasn't open before, open it now
            if (!isCurrentlyOpen) {
                cardElement.classList.add('active');
                detailsElement.classList.add('active');
                
                // Scroll to the problem card
                setTimeout(() => {
                    cardElement.scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'nearest'
                    });
                }, 100);
            }
        }

        function closeProblem(problemKey) {
            const cardElement = document.querySelector(`[onclick="toggleProblem('${problemKey}', this)"]`);
            const detailsElement = document.getElementById(`details_${problemKey}`);
            
            if (cardElement) cardElement.classList.remove('active');
            if (detailsElement) detailsElement.classList.remove('active');
        }

        function closeAllProblems() {
            // Close all problem cards
            document.querySelectorAll('.problem-card.active').forEach(card => {
                card.classList.remove('active');
            });
            
            // Close all problem details
            document.querySelectorAll('.problem-details.active').forEach(details => {
                details.classList.remove('active');
            });
        }

        function showSolutionInline(problemKey, detailsElementId) {
            const problem = problemData[problemKey];
            const detailsElement = document.getElementById(detailsElementId);
            const t = translations[currentLanguage];
            
            let html = `
                <div class="solution-header" style="margin-bottom: 30px;">
                    <h2 style="color: white; font-size: 1.8rem; margin-bottom: 10px;">${t.solutionHeader}</h2>
                </div>
                <div class="solution-list">
            `;
            
            problem.solutions.forEach((solution, index) => {
                html += `
                    <div class="solution-card" style="margin-bottom: 20px;">
                        <h3 style="color: #1DD1A1; font-size: 1.3rem; margin-bottom: 15px; display: flex; align-items: center;">
                            <i class="${solution.icon}" style="margin-right: 12px;"></i> ${index + 1}. ${solution.title}
                        </h3>
                        <p style="color: #2C3E50; font-size: 1.1rem; line-height: 1.6;">${solution.description}</p>
                    </div>
                `;
            });
            
            html += `
                </div>
                <div style="text-align: center; margin-top: 30px; padding: 25px; background: #f8f9fa; border-radius: 15px;">
                    <h3 style="color: #1DD1A1; margin-bottom: 15px;">${t.hasWorked}</h3>
                    <p style="color: #6c757d; margin-bottom: 20px;">${t.hasWorkedSub}</p>
                    <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                        <button class="back-btn" onclick="showWelcome()" style="background: #1DD1A1;">
                            <i class="fas fa-home"></i> ${t.homeButton}
                        </button>
                        <button class="callback-btn" onclick="showCallbackFormInline('${detailsElementId}')">
                            <i class="fas fa-phone"></i> ${t.callbackButton}
                        </button>
                    </div>
                </div>

                <!-- Rückruf Formular (versteckt) -->
                <div id="callbackForm_${problemKey}" class="callback-form" style="margin-top: 20px;">
                    <h4>${t.formTitle}</h4>
                    <form onsubmit="return submitCallbackFormInline(event, '${problemKey}')">
                        <div class="form-group">
                            <label for="userName_${problemKey}">${t.formName}</label>
                            <input type="text" id="userName_${problemKey}" class="form-input" placeholder="${t.formNamePlaceholder}" required>
                        </div>
                        <div class="form-group">
                            <label for="userPhone_${problemKey}">${t.formPhone}</label>
                            <input type="tel" id="userPhone_${problemKey}" class="form-input" placeholder="${t.formPhonePlaceholder}" required>
                        </div>
                        <div class="form-group">
                            <label for="userSerial_${problemKey}">${t.formSerial}</label>
                            <input type="text" id="userSerial_${problemKey}" class="form-input" placeholder="${t.formSerialPlaceholder}" required>
                        </div>
                        <div class="form-group">
                            <label for="userProblem_${problemKey}">${t.formProblem}</label>
                            <textarea id="userProblem_${problemKey}" class="form-input" placeholder="${t.formProblemPlaceholder}" required></textarea>
                        </div>
                        <button type="submit" class="submit-btn" id="submitBtn_${problemKey}">
                            <i class="fas fa-paper-plane"></i> ${t.submitButton}
                        </button>
                    </form>
                </div>
            `;
            
            detailsElement.innerHTML = html;
            
            // Scroll to solutions
            setTimeout(() => {
                detailsElement.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'nearest'
                });
            }, 100);
        }

        function showCallbackFormInline(detailsElementId) {
            const problemKey = detailsElementId.replace('details_', '');
            const form = document.getElementById(`callbackForm_${problemKey}`);
            if (form) {
                form.classList.add('active');
                form.style.display = 'block';
                // Scroll to form
                setTimeout(() => {
                    form.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                }, 100);
            }
        }

        function submitCallbackFormInline(event, problemKey) {
            event.preventDefault();
            
            const userName = document.getElementById(`userName_${problemKey}`).value.trim();
            const userPhone = document.getElementById(`userPhone_${problemKey}`).value.trim();
            const userSerial = document.getElementById(`userSerial_${problemKey}`).value.trim();
            const userProblem = document.getElementById(`userProblem_${problemKey}`).value.trim();
            const submitBtn = document.getElementById(`submitBtn_${problemKey}`);
            const t = translations[currentLanguage];

            if (!userName || !userPhone || !userSerial || !userProblem) {
                alert(t.fillAllFields);
                return false;
            }

            // Button deaktivieren während des Sendens
            submitBtn.disabled = true;
            submitBtn.innerHTML = `<i class="fas fa-spinner fa-spin"></i> ${t.sending}`;

            // Web3Forms verwenden mit deinem echten Access Key
            const formData = new FormData();
            formData.append('access_key', '6af2f4a8-bf8e-4f07-b4df-128188635ea2');
            formData.append('name', userName);
            formData.append('phone', userPhone);
            formData.append('message', `DAVI ${t.callbackButton}

👤 ${t.formName} ${userName}
📞 ${t.formPhone} ${userPhone}
🔢 ${t.formSerial} ${userSerial}
🏗️ ${t.formProblem} ${userProblem}
📅 ${new Date().toLocaleString(currentLanguage === 'de' ? 'de-DE' : currentLanguage === 'en' ? 'en-US' : currentLanguage === 'ru' ? 'ru-RU' : 'tr-TR')}
🌐 Language: ${currentLanguage.toUpperCase()}
🤖 Source: DAVI Bot - Problem: ${problemData[problemKey].title}`);
            formData.append('subject', `DAVI ${t.callbackButton} - ${currentLanguage.toUpperCase()}`);
            formData.append('from_name', 'DAVI Support Bot');
            formData.append('to', 'diana.koehnemann@deepup.ai');

            fetch('https://api.web3forms.com/submit', {
                method: 'POST',
                body: formData
            })
            .then(async response => {
                if (response.ok) {
                    // Show success message in place
                    const detailsElement = document.getElementById(`details_${problemKey}`);
                    detailsElement.innerHTML = `
                        <div class="thank-you-screen" style="border-left: none; box-shadow: none; padding: 30px; text-align: center;">
                            <h2 style="color: #1DD1A1; font-size: 2rem; margin-bottom: 20px;">${t.thankYou}</h2>
                            <p style="color: #2C3E50; font-size: 1.2rem; margin-bottom: 30px;">${t.thankYouSub}</p>
                            <button class="back-btn" onclick="showWelcome()" style="background: #1DD1A1;">
                                <i class="fas fa-home"></i> ${t.homeButton}
                            </button>
                        </div>
                    `;
                } else {
                    throw new Error('Network response was not ok');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert(t.sendError);
                submitBtn.disabled = false;
                submitBtn.innerHTML = `<i class="fas fa-paper-plane"></i> ${t.submitButton}`;
            });

            return false;
        }

        // ===== SUCHFUNKTION (vereinfacht) =====
        function handleSearch() {
            // Suchfunktion deaktiviert für einfacheres Interface
        }

        function clearSearchFunction() {
            searchInput.value = '';
            clearSearch.style.display = 'none';
        }

        // ===== GLOBALE FUNKTIONEN =====
        window.selectLanguage = selectLanguage;
        window.showLanguageSelection = showLanguageSelection;
        window.showWelcome = showWelcome;
        window.toggleProblem = toggleProblem;
        window.closeProblem = closeProblem;
        window.closeAllProblems = closeAllProblems;
        window.showSolutionInline = showSolutionInline;
        window.showCallbackFormInline = showCallbackFormInline;
        window.submitCallbackFormInline = submitCallbackFormInline;
    </script>
</body>
</html>